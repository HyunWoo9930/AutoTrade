# í•´ì™¸ì£¼ì‹ íŠ¸ë ˆì´ë”© ê°€ì´ë“œ

## ğŸ‡ºğŸ‡¸ ê°œìš”

êµ­ë‚´ì£¼ì‹ê³¼ ë™ì¼í•œ **9ê°€ì§€ ê³ ê¸‰ ì „ëµ**ì„ ë¯¸êµ­ ì£¼ì‹ì— ì ìš©í•©ë‹ˆë‹¤.

---

## ğŸ“ íŒŒì¼ êµ¬ì¡°

```
code/
â”œâ”€ kis_api.py                # KIS API (êµ­ë‚´ + í•´ì™¸ ë©”ì„œë“œ ì¶”ê°€)
â”œâ”€ watchlist.py              # êµ­ë‚´ì£¼ì‹ ì›Œì¹˜ë¦¬ìŠ¤íŠ¸
â”œâ”€ watchlist_us.py           # ğŸ†• í•´ì™¸ì£¼ì‹ ì›Œì¹˜ë¦¬ìŠ¤íŠ¸
â”œâ”€ advanced_strategy.py      # êµ­ë‚´ì£¼ì‹ ì „ëµ
â”œâ”€ overseas_strategy.py      # ğŸ†• í•´ì™¸ì£¼ì‹ ì „ëµ
â””â”€ test_overseas.py          # ğŸ†• í•´ì™¸ì£¼ì‹ í…ŒìŠ¤íŠ¸
```

---

## ğŸ¯ 9ê°€ì§€ ì „ëµ (êµ­ë‚´ = í•´ì™¸)

### 1. ê¸‰ë½ì¥ ì°¨ë“± ì²­ì‚°
- ìˆ˜ìµ ì¤‘ (â‰¥8%): 50%ë§Œ ì²­ì‚°
- ì†ì‹¤/ì†Œí­ ìˆ˜ìµ: ì „ëŸ‰ ì²­ì‚°

### 2. ë™ì‹œ ë³´ìœ  ì¢…ëª© ìˆ˜ ì œí•œ
- ìµœëŒ€ 15ê°œ (ê³µê²©ì  ì„¤ì •)

### 3. ì¶”ì„¸ ë°˜ì „ ê°ì§€
- MA5 < MA20 (ë°ë“œí¬ë¡œìŠ¤) â†’ ìµì ˆ

### 4. ì„¹í„° ë¶„ì‚° ê´€ë¦¬
- ì„¹í„°ë‹¹ 30% í•œë„ (ê³µê²©ì )

### 5. íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘
- +15% ì´ìƒ ë„ë‹¬ í›„
- ìµœê³ ì  ëŒ€ë¹„ -3% í•˜ë½ ì‹œ ë§¤ë„

### 6. ë§¤ìˆ˜ íƒ€ì´ë° ìµœì í™”
- êµ­ë‚´: 9ì‹œëŒ€, 15ì‹œëŒ€ íšŒí”¼
- í•´ì™¸: ì¥ ì‹œì‘/ë§ˆê° ì‹œê°„ëŒ€ íšŒí”¼

### 7. ìµì ˆ í›„ ì¬ì§„ì… ê¸ˆì§€
- ë‹¹ì¼ ìµì ˆ ì¢…ëª© ì¬ë§¤ìˆ˜ ë°©ì§€

### 8. ì‹ í˜¸ ê°€ì¤‘ì¹˜ ì ìš©
- MA: 2.0 (ê°€ì¥ ì¤‘ìš”)
- MACD/Volume: 1.5
- RSI/BB: 1.0
- ì´ì  â†’ 5ì  ë§Œì  ì •ê·œí™”

### 9. ë³€ë™ì„± ê¸°ë°˜ ì†ì ˆ ì¡°ì •
- ATR ê¸°ë°˜ ë™ì  ì†ì ˆ
- ë‚®ì€ ë³€ë™ì„±: íƒ€ì´íŠ¸í•œ ì†ì ˆ (-4%)
- ë†’ì€ ë³€ë™ì„±: ë„“ì€ ì†ì ˆ (-7.5%)

---

## ğŸ“Š ì›Œì¹˜ë¦¬ìŠ¤íŠ¸ (49ê°œ ì¢…ëª©)

### ë¹…í…Œí¬ (6ê°œ)
- Apple (AAPL)
- Microsoft (MSFT)
- Alphabet (GOOGL)
- Amazon (AMZN)
- Meta (META)
- NVIDIA (NVDA)

### ë°˜ë„ì²´ (5ê°œ)
- TSMC (TSM)
- Broadcom (AVGO)
- AMD (AMD)
- Qualcomm (QCOM)
- Intel (INTC)

### ì „ê¸°ì°¨ (3ê°œ)
- Tesla (TSLA)
- Rivian (RIVN)
- Lucid (LCID)

### ê¸ˆìœµ (4ê°œ)
- JPMorgan Chase (JPM)
- Bank of America (BAC)
- Wells Fargo (WFC)
- Goldman Sachs (GS)

### í—¬ìŠ¤ì¼€ì–´ (4ê°œ)
- Johnson & Johnson (JNJ)
- UnitedHealth (UNH)
- Pfizer (PFE)
- AbbVie (ABBV)

### AI/í´ë¼ìš°ë“œ (4ê°œ)
- Salesforce (CRM)
- Oracle (ORCL)
- Palantir (PLTR)
- Snowflake (SNOW)

### ì†Œë¹„ì¬ (4ê°œ)
- Coca-Cola (KO)
- PepsiCo (PEP)
- Nike (NKE)
- Starbucks (SBUX)

### ETF (3ê°œ)
- S&P 500 ETF (SPY)
- NASDAQ-100 ETF (QQQ)
- Dow Jones ETF (DIA)

---

## ğŸš€ ì‚¬ìš© ë°©ë²•

### 1. ì›Œì¹˜ë¦¬ìŠ¤íŠ¸ í™•ì¸

```bash
python3 code/watchlist_us.py
```

### 2. í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# ë¹…í…Œí¬ 3ê°œ ì¢…ëª© í…ŒìŠ¤íŠ¸
python3 code/test_overseas.py
```

### 3. ì „ì²´ ì¢…ëª© ì‹¤í–‰

```python
from overseas_strategy import OverseasTradingStrategy
from watchlist_us import get_all_us_stocks

strategy = OverseasTradingStrategy()
watchlist = get_all_us_stocks()

for ticker, name, exchange in watchlist:
    strategy.execute_strategy(ticker, name, exchange)
```

---

## ğŸ”§ ì»¤ìŠ¤í„°ë§ˆì´ì§•

### ì›Œì¹˜ë¦¬ìŠ¤íŠ¸ ìˆ˜ì •

`code/watchlist_us.py` íŒŒì¼ ìˆ˜ì •:

```python
WATCHLIST_US = {
    "ë¹…í…Œí¬": [
        ("AAPL", "Apple", "NAS"),
        ("TSLA", "Tesla", "NAS"),  # ì¶”ê°€
    ],
}
```

### ì´ˆê¸° ìë³¸ ë³€ê²½

`overseas_strategy.py`ì˜ `_execute_buy()` ë©”ì„œë“œ:

```python
# ê¸°ë³¸: $10,000
total_balance_usd = cash_usd + 10000

# ë³€ê²½: $50,000
total_balance_usd = cash_usd + 50000
```

### ì‹ í˜¸ ì„ê³„ì¹˜ ë³€ê²½

`overseas_strategy.py`ì˜ `execute_strategy()` ë©”ì„œë“œ:

```python
# í˜„ì¬ (ê³µê²©ì ):
if signals >= 2:  # ì¶”ì„¸ì¥
if signals >= 2:  # íš¡ë³´ì¥

# ë³´ìˆ˜ì ìœ¼ë¡œ ë³€ê²½:
if signals >= 3:  # ì¶”ì„¸ì¥
if signals >= 4:  # íš¡ë³´ì¥
```

---

## â° ì¥ ì‹œê°„

### ë¯¸êµ­ ì¥ ì‹œê°„ (EST)
- í”„ë¦¬ë§ˆì¼“: 04:00~09:30
- ì •ê·œì¥: 09:30~16:00
- ì• í”„í„°ë§ˆì¼“: 16:00~20:00

### í•œêµ­ ì‹œê°„ (KST ê¸°ì¤€)
- í”„ë¦¬ë§ˆì¼“: 18:00~23:30
- ì •ê·œì¥: **23:30~06:00** (ë‹¤ìŒë‚ )
- ì• í”„í„°ë§ˆì¼“: 06:00~10:00

**ìµœì  ë§¤ìˆ˜ ì‹œê°„**: 00:30~05:00 (ì¥ ì´ˆë°˜/ë§ˆê° íšŒí”¼)

---

## ğŸ’± í†µí™” ë° í™˜ì „

### USD ì”ê³  í™•ì¸

```python
balance = api.get_overseas_balance()
cash_usd = float(balance['output2'][0].get('frcr_dncl_amt_2', 0))
print(f"USD ì”ê³ : ${cash_usd:,.2f}")
```

### í™˜ìœ¨ ê³ ë ¤ì‚¬í•­

- ëª¨ë“  ê±°ë˜ëŠ” USDë¡œ ì§„í–‰
- ì†ìµë¥  ê³„ì‚°ë„ USD ê¸°ì¤€
- ì›í™” í™˜ì‚° í•„ìš” ì‹œ: `usd * 1300` (ëŒ€ëµ)

---

## ğŸ“ˆ ì „ëµ ë¹„êµ: êµ­ë‚´ vs í•´ì™¸

| í•­ëª© | êµ­ë‚´ì£¼ì‹ | í•´ì™¸ì£¼ì‹ |
|------|---------|---------|
| ì „ëµ | 9ê°€ì§€ ê³ ê¸‰ ì „ëµ | 9ê°€ì§€ ê³ ê¸‰ ì „ëµ (ë™ì¼) |
| ì‹œì¥ | ì½”ìŠ¤í”¼/ì½”ìŠ¤ë‹¥ | ë‚˜ìŠ¤ë‹¥/NYSE/AMEX |
| í†µí™” | KRW | USD |
| ì¥ ì‹œê°„ | 09:00~15:30 | 23:30~06:00 (KST) |
| ë³´ìœ  í•œë„ | 15ê°œ | 15ê°œ |
| ì„¹í„° í•œë„ | 30% | 30% |
| ì‹ í˜¸ ì„ê³„ì¹˜ | 2ê°œ (ê³µê²©ì ) | 2ê°œ (ê³µê²©ì ) |
| API ê²½ë¡œ | `/domestic-stock/` | `/overseas-stock/` |

---

## ğŸ” API ì°¨ì´ì 

### êµ­ë‚´ì£¼ì‹ API

```python
# í˜„ì¬ê°€
api.get_current_price(stock_code)

# ë§¤ìˆ˜
api.buy_stock(stock_code, quantity)

# ì”ê³ 
api.get_balance()
```

### í•´ì™¸ì£¼ì‹ API

```python
# í˜„ì¬ê°€
api.get_overseas_current_price(ticker, exchange="NAS")

# ë§¤ìˆ˜
api.buy_overseas_stock(ticker, quantity, exchange="NASD")

# ì”ê³ 
api.get_overseas_balance()
```

**ê±°ë˜ì†Œ ì½”ë“œ:**
- ë‚˜ìŠ¤ë‹¥: `"NAS"` (í˜„ì¬ê°€), `"NASD"` (ê±°ë˜)
- ë‰´ìš•: `"NYSE"` (í˜„ì¬ê°€/ê±°ë˜ ë™ì¼)
- ì•„ë©•ìŠ¤: `"AMS"` (í˜„ì¬ê°€), `"AMEX"` (ê±°ë˜)

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ

### ë‹¨ì¼ ì¢…ëª© (Apple)

```bash
python3 -c "
from overseas_strategy import OverseasTradingStrategy
strategy = OverseasTradingStrategy()
strategy.execute_strategy('AAPL', 'Apple', 'NAS')
"
```

### ì„¹í„°ë³„ (ë¹…í…Œí¬)

```bash
python3 -c "
from overseas_strategy import OverseasTradingStrategy
from watchlist_us import get_us_stocks_by_sector

strategy = OverseasTradingStrategy()
for ticker, name, exchange in get_us_stocks_by_sector('ë¹…í…Œí¬'):
    strategy.execute_strategy(ticker, name, exchange)
"
```

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

### 1. API ì œí•œ

- KIS APIëŠ” ë¶„ë‹¹ í˜¸ì¶œ ì œí•œ ìˆìŒ (ì´ˆë‹¹ 2íšŒ)
- ì „ì²´ 49ê°œ ì¢…ëª© ì‹¤í–‰ ì‹œ ì•½ 25ë¶„ ì†Œìš”

### 2. ì‹œì°¨

- í•œêµ­ ë°¤ ì‹œê°„ = ë¯¸êµ­ ë‚® ì‹œê°„
- ë¯¸êµ­ ì¥ì´ ì—´ë¦´ ë•Œ êµ­ë‚´ ì¥ì€ ë‹«í˜€ ìˆìŒ
- **24ì‹œê°„ ìë™ë§¤ë§¤ ê°€ëŠ¥!**

### 3. í™˜ìœ¨ ë³€ë™

- USD/KRW í™˜ìœ¨ ë³€ë™ ë¦¬ìŠ¤í¬
- ì›í™” í‰ê°€ ì‹œ í™˜ì°¨ìµ/í™˜ì°¨ì† ê³ ë ¤

### 4. ì„¸ê¸ˆ

- í•´ì™¸ì£¼ì‹ ì–‘ë„ì†Œë“ì„¸: 22% (250ë§Œì› ê³µì œ)
- ë°°ë‹¹ ì†Œë“ì„¸: 15%

---

## ğŸš€ ì‹¤ì „ ë°°í¬

### Docker ì´ë¯¸ì§€ ë¹Œë“œ

```bash
# Dockerfileì— í•´ì™¸ì£¼ì‹ ì½”ë“œ ì¶”ê°€
docker build -t stock-trading-overseas:latest .
docker push your-registry/stock-trading-overseas:latest
```

### K8s CronJob ì„¤ì •

```yaml
# overseas-cronjob.yaml
apiVersion: batch/v1
kind: CronJob
metadata:
  name: overseas-trading
spec:
  schedule: "30 0 * * 2-6"  # í™”-í†  00:30 (ë¯¸êµ­ ì¥ ì‹œì‘)
  jobTemplate:
    spec:
      template:
        spec:
          containers:
          - name: overseas-trading
            image: your-registry/stock-trading-overseas:latest
            command: ["python3", "code/overseas_strategy.py"]
```

### ì´ì¤‘ ì „ëµ ìš´ì˜

**ì•„ì¹¨ (09:00)**: êµ­ë‚´ì£¼ì‹ ì „ëµ ì‹¤í–‰
**ë°¤ (00:30)**: í•´ì™¸ì£¼ì‹ ì „ëµ ì‹¤í–‰

```yaml
# êµ­ë‚´ì£¼ì‹ CronJob
schedule: "0 9 * * 1-5"  # ì›”-ê¸ˆ 09:00

# í•´ì™¸ì£¼ì‹ CronJob
schedule: "30 0 * * 2-6"  # í™”-í†  00:30
```

---

## ğŸ“Š ì˜ˆìƒ ì„±ê³¼

### ê±°ë˜ ë¹ˆë„ (ê³µê²©ì  ì„¤ì •)

- **êµ­ë‚´ì£¼ì‹**: 30ì¼ ê¸°ì¤€ 5~10ê±´ ì˜ˆìƒ
- **í•´ì™¸ì£¼ì‹**: 30ì¼ ê¸°ì¤€ 10~20ê±´ ì˜ˆìƒ (ë³€ë™ì„± í¼)
- **í•©ê³„**: ì›” 15~30ê±´

### í¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì„±

```
ì „ì²´ ìë³¸: 5,000ë§Œì›

êµ­ë‚´ì£¼ì‹: 3,000ë§Œì› (60%)
- ì½”ìŠ¤í”¼/ì½”ìŠ¤ë‹¥ 15ê°œ ì¢…ëª©

í•´ì™¸ì£¼ì‹: 2,000ë§Œì› (40%)
- ë‚˜ìŠ¤ë‹¥/NYSE 15ê°œ ì¢…ëª©

â†’ ìµœëŒ€ 30ê°œ ì¢…ëª© ë™ì‹œ ë³´ìœ 
```

---

## ğŸ¯ ë°±í…ŒìŠ¤íŒ…

í•´ì™¸ì£¼ì‹ ë°±í…ŒìŠ¤íŒ…ì€ ì¶”í›„ ì¶”ê°€ ì˜ˆì •:

```python
# í–¥í›„ ì¶”ê°€ ì˜ˆì •
from backtest_overseas import OverseasBacktester

backtester = OverseasBacktester(initial_cash=10000)  # $10,000
backtester.run(start_date="20240101", end_date="20241231")
```

---

## ğŸ’¡ íŒ

### 1. ETF í™œìš©

- SPY, QQQ ë“± ETFëŠ” ë³€ë™ì„± ë‚®ìŒ
- ì•ˆì •ì  ìˆ˜ìµ ì¶”êµ¬ ì‹œ ETF ë¹„ì¤‘ ë†’ì´ê¸°

### 2. ë¹…í…Œí¬ ì§‘ì¤‘

- AAPL, MSFT, GOOGLì€ ìœ ë™ì„± ìµœê³ 
- ì´ˆë³´ìëŠ” ë¹…í…Œí¬ë§Œ ë§¤ë§¤ ê¶Œì¥

### 3. ë‰´ìŠ¤ í™•ì¸

- ë¯¸êµ­ ê²½ì œì§€í‘œ ë°œí‘œì¼ ì£¼ì˜
- FOMC, ê³ ìš©ì§€í‘œ, CPI ë“±

### 4. ë¶„ì‚° íˆ¬ì

- ì„¹í„° ë¶„ì‚° (ë¹…í…Œí¬ + ê¸ˆìœµ + í—¬ìŠ¤ì¼€ì–´)
- êµ­ë‚´ + í•´ì™¸ ë¶„ì‚°ìœ¼ë¡œ ë¦¬ìŠ¤í¬ ê°ì†Œ

---

## ğŸ“ ë””ìŠ¤ì½”ë“œ ì•Œë¦¼

êµ­ë‚´ì£¼ì‹ê³¼ ë™ì¼í•œ Discord ì±„ë„ ì‚¬ìš©:

- `#ì‹ í˜¸-ê°ì§€`: ë§¤ìˆ˜ ì‹ í˜¸
- `#ë§¤ë§¤-ë‚´ì—­`: ë§¤ìˆ˜/ë§¤ë„ ê¸°ë¡
- `#ë³´ìœ -í˜„í™©`: ìˆ˜ìµë¥  ëª¨ë‹ˆí„°ë§
- `#ì‹œì¥-ìƒíƒœ`: ê¸‰ë½ì¥/íš¡ë³´ì¥ ê°ì§€
- `#ì—ëŸ¬-ë¡œê·¸`: ì˜¤ë¥˜ ì•Œë¦¼

**í•´ì™¸ì£¼ì‹ ì•Œë¦¼ êµ¬ë¶„**:
```
ğŸ‡ºğŸ‡¸ [AAPL] ë§¤ìˆ˜ ì‹ í˜¸ ê°ì§€! (4/5)
ğŸ’° [TSLA] ë§¤ìˆ˜ ì™„ë£Œ: 10ì£¼ @ $250.00
```

---

**ì‘ì„±ì¼**: 2025-10-14
**ì‘ì„±ì**: Claude Code
**ë²„ì „**: 1.0.0 (í•´ì™¸ì£¼ì‹ ì´ˆê¸° ë²„ì „)
